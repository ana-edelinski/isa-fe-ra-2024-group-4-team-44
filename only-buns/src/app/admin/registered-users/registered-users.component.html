<div class="user-list-container">
  <div class="sidebar">
    <!-- Search bar -->
    <div class="search-container">
      <h4>SEARCH</h4>
      <div class="search-bar">
          <input type="text" placeholder="Search by name" [(ngModel)]="searchCriteria.name" />
          <input type="text" placeholder="Search by surname" [(ngModel)]="searchCriteria.surname" />
          <input type="text" placeholder="Search by email" [(ngModel)]="searchCriteria.email" />
          <input type="number" placeholder="Min posts" [(ngModel)]="searchCriteria.minPosts" />
          <input type="number" placeholder="Max posts" [(ngModel)]="searchCriteria.maxPosts" />
      </div>
      <div class="buttons">
          <button class="btn btn-search" (click)="searchUsers()">Search</button>
          <button class="btn btn-clear" (click)="clearSearch()">Clear</button>
      </div>
    </div>
  </div>

  <!-- User list -->
  <div class="main-content">
    <h3>Registered Users</h3>
    <div class="table-container">
      <table *ngIf="users && users.length > 0">
        <thead>
          <tr>
            <th (click)="sortBy('email')"> 
              Email
              <span *ngIf="sortField === 'email' && sortDirection === 'asc'">&#9650;</span>
              <span *ngIf="sortField === 'email' && sortDirection === 'desc'">&#9660;</span>
            </th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Number of Posts</th>
            <th (click)="sortBy('following')">
              Following
              <span *ngIf="sortField === 'following' && sortDirection === 'asc'">&#9650;</span>
              <span *ngIf="sortField === 'following' && sortDirection === 'desc'">&#9660;</span>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users"> 
            <td> {{ user.email }}</td> 
            <td> {{ user.name }}</td>
            <td> {{ user.surname }} </td>
            <td> {{ user.numberOfPosts }} </td>
            <td> {{ user.numberOfFollowing }} </td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <div class="pagination" style="margin-top: 15px; text-align: center;">
      <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 0">
        Previous
      </button>
      <span> Page {{ currentPage + 1 }} of {{ totalPages }} </span>
      <button (click)="changePage(currentPage + 1)" [disabled]="currentPage >= totalPages - 1">
        Next
      </button>
    </div>
  </div>
</div>
